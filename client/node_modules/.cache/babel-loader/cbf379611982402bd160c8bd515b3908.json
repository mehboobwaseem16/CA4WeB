{"ast":null,"code":"import _slicedToArray from\"/workspace/working-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Author:Waseem Mehboob\n// ID: 18072\nimport React,{useState}from'react';import{Typography,Button,Form,message,Input,Icon}from'antd';import FileUpload from'../../utils/FileUpload';import Axios from'axios';var Title=Typography.Title;var TextArea=Input.TextArea;var IRECities=[{key:1,value:\"Dublin\"},{key:2,value:\"Cork\"},{key:3,value:\"Limerick\"},{key:4,value:\"Sligo\"},{key:5,value:\"Kilkenny\"},{key:6,value:\"Port Loius\"},{key:7,value:\"Galway\"}];function UploadProductPage(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),TitleValue=_useState2[0],setTitleValue=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),DescriptionValue=_useState4[0],setDescriptionValue=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),PriceValue=_useState6[0],setPriceValue=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),ContinentValue=_useState8[0],setContinentValue=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),Images=_useState10[0],setImages=_useState10[1];var onTitleChange=function onTitleChange(event){setTitleValue(event.currentTarget.value);};var onDescriptionChange=function onDescriptionChange(event){setDescriptionValue(event.currentTarget.value);};var onPriceChange=function onPriceChange(event){setPriceValue(event.currentTarget.value);};var onIRECitiesSelectChange=function onIRECitiesSelectChange(event){setContinentValue(event.currentTarget.value);};var updateImages=function updateImages(newImages){setImages(newImages);};var onSubmit=function onSubmit(event){event.preventDefault();if(!TitleValue||!DescriptionValue||!PriceValue||!ContinentValue||!Images){return alert('fill all the fields first!');}var variables={writer:props.user.userData._id,title:TitleValue,description:DescriptionValue,price:PriceValue,images:Images,IRECities:ContinentValue};Axios.post('/api/product/uploadProduct',variables).then(function(response){if(response.data.success){alert('Product Successfully Uploaded');props.history.push('/');}else{alert('Failed to upload Product');}});};return/*#__PURE__*/React.createElement(\"div\",{style:{maxWidth:'700px',margin:'2rem auto'}},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',marginBottom:'2rem'}},/*#__PURE__*/React.createElement(Title,{level:2},\" Upload Travel Product\")),/*#__PURE__*/React.createElement(Form,{onSubmit:onSubmit},/*#__PURE__*/React.createElement(FileUpload,{refreshFunction:updateImages}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Title\"),/*#__PURE__*/React.createElement(Input,{onChange:onTitleChange,value:TitleValue}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Description\"),/*#__PURE__*/React.createElement(TextArea,{onChange:onDescriptionChange,value:DescriptionValue}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Price($)\"),/*#__PURE__*/React.createElement(Input,{onChange:onPriceChange,value:PriceValue,type:\"number\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"select\",{onChange:onIRECitiesSelectChange,value:ContinentValue},IRECities.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{key:item.key,value:item.key},item.value,\" \");})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{onClick:onSubmit},\"Submit\")));}export default UploadProductPage;","map":{"version":3,"sources":["/workspace/working-react/client/src/components/views/UploadProductPage/UploadProductPage.js"],"names":["React","useState","Typography","Button","Form","message","Input","Icon","FileUpload","Axios","Title","TextArea","IRECities","key","value","UploadProductPage","props","TitleValue","setTitleValue","DescriptionValue","setDescriptionValue","PriceValue","setPriceValue","ContinentValue","setContinentValue","Images","setImages","onTitleChange","event","currentTarget","onDescriptionChange","onPriceChange","onIRECitiesSelectChange","updateImages","newImages","onSubmit","preventDefault","alert","variables","writer","user","userData","_id","title","description","price","images","post","then","response","data","success","history","push","maxWidth","margin","textAlign","marginBottom","map","item"],"mappings":"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","sourcesContent":["// Author:Waseem Mehboob\n// ID: 18072\nimport React, { useState } from 'react'\nimport { Typography, Button, Form, message, Input, Icon } from 'antd';\nimport FileUpload from '../../utils/FileUpload'\nimport Axios from 'axios';\n\nconst { Title } = Typography;\nconst { TextArea } = Input;\n\nconst IRECities = [\n    { key: 1, value: \"Dublin\" },\n    { key: 2, value: \"Cork\" },\n    { key: 3, value: \"Limerick\" },\n    { key: 4, value: \"Sligo\" },\n    { key: 5, value: \"Kilkenny\" },\n    { key: 6, value: \"Port Loius\" },\n    { key: 7, value: \"Galway\" }\n]\n\nfunction UploadProductPage(props) {\n\n    const [TitleValue, setTitleValue] = useState(\"\")\n    const [DescriptionValue, setDescriptionValue] = useState(\"\")\n    const [PriceValue, setPriceValue] = useState(0)\n    const [ContinentValue, setContinentValue] = useState(1)\n\n    const [Images, setImages] = useState([])\n\n\n    const onTitleChange = (event) => {\n        setTitleValue(event.currentTarget.value)\n    }\n\n    const onDescriptionChange = (event) => {\n        setDescriptionValue(event.currentTarget.value)\n    }\n\n    const onPriceChange = (event) => {\n        setPriceValue(event.currentTarget.value)\n    }\n\n    const onIRECitiesSelectChange = (event) => {\n        setContinentValue(event.currentTarget.value)\n    }\n\n    const updateImages = (newImages) => {\n        setImages(newImages)\n    }\n    const onSubmit = (event) => {\n        event.preventDefault();\n\n\n        if (!TitleValue || !DescriptionValue || !PriceValue ||\n            !ContinentValue || !Images) {\n            return alert('fill all the fields first!')\n        }\n\n        const variables = {\n            writer: props.user.userData._id,\n            title: TitleValue,\n            description: DescriptionValue,\n            price: PriceValue,\n            images: Images,\n            IRECities: ContinentValue,\n        }\n\n        Axios.post('/api/product/uploadProduct', variables)\n            .then(response => {\n                if (response.data.success) {\n                    alert('Product Successfully Uploaded')\n                    props.history.push('/')\n                } else {\n                    alert('Failed to upload Product')\n                }\n            })\n\n    }\n\n    return (\n        <div style={{ maxWidth: '700px', margin: '2rem auto' }}>\n            <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\n                <Title level={2}> Upload Travel Product</Title>\n            </div>\n\n\n            <Form onSubmit={onSubmit} >\n\n                {/* DropZone */}\n                <FileUpload refreshFunction={updateImages} />\n\n                <br />\n                <br />\n                <label>Title</label>\n                <Input\n                    onChange={onTitleChange}\n                    value={TitleValue}\n                />\n                <br />\n                <br />\n                <label>Description</label>\n                <TextArea\n                    onChange={onDescriptionChange}\n                    value={DescriptionValue}\n                />\n                <br />\n                <br />\n                <label>Price($)</label>\n                <Input\n                    onChange={onPriceChange}\n                    value={PriceValue}\n                    type=\"number\"\n                />\n                <br /><br />\n                <select onChange={onIRECitiesSelectChange} value={ContinentValue}>\n                    {IRECities.map(item => (\n                        <option key={item.key} value={item.key}>{item.value} </option>\n                    ))}\n                </select>\n                <br />\n                <br />\n\n                <Button\n                    onClick={onSubmit}\n                >\n                    Submit\n                </Button>\n\n            </Form>\n\n        </div>\n    )\n}\n\nexport default UploadProductPage\n"]},"metadata":{},"sourceType":"module"}