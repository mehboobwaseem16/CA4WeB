{"ast":null,"code":"/* eslint-disable jsx-a11y/anchor-is-valid */import React from'react';import{Menu,Icon,Badge}from'antd';import axios from'axios';import{USER_SERVER}from'../../../Config';import{withRouter}from'react-router-dom';import{useSelector}from\"react-redux\";function RightMenu(props){var user=useSelector(function(state){return state.user;});var logoutHandler=function logoutHandler(){axios.get(\"\".concat(USER_SERVER,\"/logout\")).then(function(response){if(response.status===200){props.history.push(\"/login\");}else{alert('Log Out Failed');}});};if(user.userData&&!user.userData.isAuth){return/*#__PURE__*/React.createElement(Menu,{mode:props.mode},/*#__PURE__*/React.createElement(Menu.Item,{key:\"mail\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/login\"},\"Signin\")),/*#__PURE__*/React.createElement(Menu.Item,{key:\"app\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/register\"},\"Signup\")));}else{return/*#__PURE__*/React.createElement(Menu,{mode:props.mode},/*#__PURE__*/React.createElement(Menu.Item,{key:\"history\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/history\"},\"History\")),/*#__PURE__*/React.createElement(Menu.Item,{key:\"upload\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/product/upload\"},\"Upload\")),/*#__PURE__*/React.createElement(Menu.Item,{key:\"cart\",style:{paddingBottom:3}},/*#__PURE__*/React.createElement(Badge,{count:user.userData&&user.userData.cart.length},/*#__PURE__*/React.createElement(\"a\",{href:\"/user/cart\",style:{marginRight:-22,color:'#667777'}},/*#__PURE__*/React.createElement(Icon,{type:\"shopping-cart\",style:{fontSize:30,marginBottom:3}})))),/*#__PURE__*/React.createElement(Menu.Item,{key:\"logout\"},/*#__PURE__*/React.createElement(\"a\",{onClick:logoutHandler},\"Logout\")));}}export default withRouter(RightMenu);","map":{"version":3,"sources":["/workspace/ca4webp/client/src/components/views/NavBar/Sections/RightMenu.js"],"names":["React","Menu","Icon","Badge","axios","USER_SERVER","withRouter","useSelector","RightMenu","props","user","state","logoutHandler","get","then","response","status","history","push","alert","userData","isAuth","mode","paddingBottom","cart","length","marginRight","color","fontSize","marginBottom"],"mappings":"AAAA,6CACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,IAAf,CAAqBC,KAArB,KAAkC,MAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,iBAA5B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,WAAT,KAA4B,aAA5B,CAEA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CACxB,GAAMC,CAAAA,IAAI,CAAGH,WAAW,CAAC,SAAAI,KAAK,QAAIA,CAAAA,KAAK,CAACD,IAAV,EAAN,CAAxB,CAEA,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BR,KAAK,CAACS,GAAN,WAAaR,WAAb,aAAmCS,IAAnC,CAAwC,SAAAC,QAAQ,CAAI,CAClD,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3BP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EACD,CAFD,IAEO,CACLC,KAAK,CAAC,gBAAD,CAAL,CACD,CACF,CAND,EAOD,CARD,CAUA,GAAIT,IAAI,CAACU,QAAL,EAAiB,CAACV,IAAI,CAACU,QAAL,CAAcC,MAApC,CAA4C,CAC1C,mBACE,oBAAC,IAAD,EAAM,IAAI,CAAEZ,KAAK,CAACa,IAAlB,eACE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,MAAf,eACE,yBAAG,IAAI,CAAC,QAAR,WADF,CADF,cAIE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,KAAf,eACE,yBAAG,IAAI,CAAC,WAAR,WADF,CAJF,CADF,CAUD,CAXD,IAWO,CACL,mBACE,oBAAC,IAAD,EAAM,IAAI,CAAEb,KAAK,CAACa,IAAlB,eAEE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,SAAf,eACE,yBAAG,IAAI,CAAC,UAAR,YADF,CAFF,cAME,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,QAAf,eACE,yBAAG,IAAI,CAAC,iBAAR,WADF,CANF,cAUE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,MAAf,CAAsB,KAAK,CAAE,CAAEC,aAAa,CAAE,CAAjB,CAA7B,eACE,oBAAC,KAAD,EAAO,KAAK,CAAEb,IAAI,CAACU,QAAL,EAAiBV,IAAI,CAACU,QAAL,CAAcI,IAAd,CAAmBC,MAAlD,eACE,yBAAG,IAAI,CAAC,YAAR,CAAqB,KAAK,CAAE,CAAEC,WAAW,CAAE,CAAC,EAAhB,CAAqBC,KAAK,CAAC,SAA3B,CAA5B,eACE,oBAAC,IAAD,EAAM,IAAI,CAAC,eAAX,CAA2B,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,YAAY,CAAE,CAA9B,CAAlC,EADF,CADF,CADF,CAVF,cAmBE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,QAAf,eACE,yBAAG,OAAO,CAAEjB,aAAZ,WADF,CAnBF,CADF,CAyBD,CACF,CAED,cAAeN,CAAAA,UAAU,CAACE,SAAD,CAAzB","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react';\nimport { Menu, Icon, Badge } from 'antd';\nimport axios from 'axios';\nimport { USER_SERVER } from '../../../Config';\nimport { withRouter } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\n\nfunction RightMenu(props) {\n  const user = useSelector(state => state.user)\n\n  const logoutHandler = () => {\n    axios.get(`${USER_SERVER}/logout`).then(response => {\n      if (response.status === 200) {\n        props.history.push(\"/login\");\n      } else {\n        alert('Log Out Failed')\n      }\n    });\n  };\n\n  if (user.userData && !user.userData.isAuth) {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"mail\">\n          <a href=\"/login\">Signin</a>\n        </Menu.Item>\n        <Menu.Item key=\"app\">\n          <a href=\"/register\">Signup</a>\n        </Menu.Item>\n      </Menu>\n    )\n  } else {\n    return (\n      <Menu mode={props.mode}>\n\n        <Menu.Item key=\"history\">\n          <a href=\"/history\">History</a>\n        </Menu.Item>\n\n        <Menu.Item key=\"upload\">\n          <a href=\"/product/upload\">Upload</a>\n        </Menu.Item>\n\n        <Menu.Item key=\"cart\" style={{ paddingBottom: 3 }}>\n          <Badge count={user.userData && user.userData.cart.length}>\n            <a href=\"/user/cart\" style={{ marginRight: -22 , color:'#667777'}}>\n              <Icon type=\"shopping-cart\" style={{ fontSize: 30, marginBottom: 3 }} />\n            </a>\n          </Badge>\n        </Menu.Item>\n\n\n        <Menu.Item key=\"logout\">\n          <a onClick={logoutHandler}>Logout</a>\n        </Menu.Item>\n      </Menu>\n    )\n  }\n}\n\nexport default withRouter(RightMenu);\n\n"]},"metadata":{},"sourceType":"module"}